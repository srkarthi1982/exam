---
import { buildRootRedirect, getSafeReturnTo } from "../lib/redirects";

const rootAppUrl = Astro.locals.rootAppUrl ?? "https://ansiversa.com";
const returnTo = getSafeReturnTo(Astro.url.searchParams.get("returnTo"), new URL("/", Astro.url).toString());
const redirectUrl = buildRootRedirect(rootAppUrl, "/register", returnTo);

void redirectUrl;
return Astro.redirect(redirectUrl);
---
